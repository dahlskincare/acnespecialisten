@import "components/icon";
@import "components/button";
@import "components/textfield";
@import "util/typography";
@import "bulma/sass/utilities/_all.sass";
@import "bulma/sass/helpers/visibility.sass";
@import "bulma/sass/grid/columns.sass";
@import "bulma/sass/elements/container.sass";

$mobile-nav-width: 350px;

html {
    body {
        background-color: $white-500;

        /// NAV
        div#mobile-nav-overlay {
            right: 0;
            position: fixed;
            z-index: 100;
            width: 0;
            height: 100vh;
            height: -webkit-fill-available;
            transition: background-color 200ms ease;

            nav {
                position: absolute;
                box-sizing: border-box;
                width: $mobile-nav-width;
                right: - $mobile-nav-width;
                height: 100vh;
                height: -webkit-fill-available;
                background-color: $white-500;
                padding: 0 $xl;
                transition: right 200ms ease;
                overflow-y: auto;

                div#mobile-nav-head {
                    font-size: 0;
                    height: $xl4;
                    display: flex;
                    align-items: center;
                    justify-content: space-between;

                    .icon {
                        cursor: pointer;
                    }
                }

                div#mobile-nav-links {
                    margin-top: $xs;
                    border-radius: $radius-l;
                    overflow: hidden;
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    grid-template-rows: 1fr 1fr 1fr;
                    column-gap: $xxs;
                    row-gap: $xxs;

                    .mobile-nav-link {
                        @include h200;
                        height: $xl4;
                        background-color: $light-50;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }
                }

                div#mobile-expansion-panels {
                    div.expansion-panel {
                        border-bottom: 1px solid $light-200;
                        padding: $xl 0;

                        div.ep-head {
                            @include p200;
                            display: flex;
                            align-items: center;
                            justify-content: space-between;
                            cursor: pointer;

                            .icon {
                                transition: transform 200ms ease;
                            }
                        }

                        div.ep-content {
                            display: none;

                            a {
                                @include h200;
                                padding: $s 0;
                                display: block;
                            }

                            a:first-child {
                                padding-top: $xl;
                            }

                            a:last-child {
                                padding-bottom: 0;
                            }
                        }
                    }

                    div.expansion-panel.active {
                        div.ep-head {
                            .icon {
                                transform: rotate(-180deg);
                            }
                        }

                        div.ep-content {
                            display: block;
                        }
                    }
                }

                div#mobile-login-link {
                    padding: $xl 0;

                    #ml-head {
                        display: flex;
                        align-items: center;

                        #profile-icon {
                            flex: 1 0 48px;
                            height: 48px;
                            border-radius: 50%;
                            background-color: $deep-sea-25;
                            display: flex;
                            align-items: center;
                            justify-content: center;

                            .icon>svg {
                                * {
                                    stroke: $deep-sea-400;
                                    fill: $deep-sea-400;
                                }
                            }
                        }

                        #profile-text {
                            @include p200;
                            margin-left: $m;
                        }
                    }

                    a.button {
                        margin-top: $m;
                    }
                }
            }
        }

        div#mobile-nav-overlay.active {
            background-color: rgba(0, 0, 0, 0.5);
            width: 100%;

            nav {
                right: 0;
            }
        }

        /// UTILITY CLASSES
        /// Colors
        .color-deep-sea-300 {
            @include text-color($deep-sea-300);
        }

        .color-deep-sea-400 {
            @include text-color($deep-sea-400);
        }

        .color-deep-sea-500 {
            @include text-color($deep-sea-500);
        }

        // Margins        
        .mt-xxs {
            margin-top: $xxs;
        }

        .mt-xs {
            margin-top: $xs;
        }

        .mt-s {
            margin-top: $s;
        }

        .mt-m {
            margin-top: $m;
        }

        .mt-l {
            margin-top: $l;
        }

        .mt-xl {
            margin-top: $xl;
        }

        .mt-xxl {
            margin-top: $xxl;
        }

        .mt-xl3 {
            margin-top: $xl3;
        }

        .mt-xl4 {
            margin-top: $xl4;
        }

        .mt-xl5 {
            margin-top: $xl5;
        }

        .mr-xxs {
            margin-right: $xxs;
        }

        .mr-xs {
            margin-right: $xs;
        }

        .mr-s {
            margin-right: $s;
        }

        .mr-m {
            margin-right: $m;
        }

        .mr-l {
            margin-right: $l;
        }

        .mr-xl {
            margin-right: $xl;
        }

        .mr-xxl {
            margin-right: $xxl;
        }

        .mr-xl3 {
            margin-right: $xl3;
        }

        .mr-xl4 {
            margin-right: $xl4;
        }

        .mr-xl5 {
            margin-right: $xl5;
        }

        .ml-xxs {
            margin-left: $xxs;
        }

        .ml-xs {
            margin-left: $xs;
        }

        .ml-s {
            margin-left: $s;
        }

        .ml-m {
            margin-left: $m;
        }

        .ml-l {
            margin-left: $l;
        }

        .ml-xl {
            margin-left: $xl;
        }

        .ml-xxl {
            margin-left: $xxl;
        }

        .ml-xl3 {
            margin-left: $xl3;
        }

        .ml-xl4 {
            margin-left: $xl4;
        }

        .ml-xl5 {
            margin-left: $xl5;
        }

        .mb-xxs {
            margin-bottom: $xxs;
        }

        .mb-xs {
            margin-bottom: $xs;
        }

        .mb-s {
            margin-bottom: $s;
        }

        .mb-m {
            margin-bottom: $m;
        }

        .mb-l {
            margin-bottom: $l;
        }

        .mb-xl {
            margin-bottom: $xl;
        }

        .mb-xxl {
            margin-bottom: $xxl;
        }

        .mb-xl3 {
            margin-bottom: $xl3;
        }

        .mb-xl4 {
            margin-bottom: $xl4;
        }

        .mb-xl5 {
            margin-bottom: $xl5;
        }

        /// Elevations 
        .elevation-low {
            @include elevation-low;
        }

        .elevation-medium {
            @include elevation-medium;
        }

        /// Bulma hacks
        .container {
            padding: 0 $m;
        }

        .columns {
            margin-top: 0 !important;
            margin-bottom: 0 !important;

            .column {
                box-sizing: border-box;
                padding-top: 0 !important;
                padding-bottom: 0 !important;
            }
        }

        /// Flex utility
        .flex-row {
            display: flex;
            align-items: center;
        }

        .flex-col {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .align-start {
            align-items: flex-start;
        }

        .align-end {
            align-items: flex-end;
        }

        .justify-end {
            justify-content: flex-end;
        }

        .justify-space-between {
            justify-content: space-between;
        }

        /// END UTILITY CLASSES

    }

    body.noscroll {
        overflow-y: hidden;
    }
}